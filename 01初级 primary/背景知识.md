# 背景知识

## 涉及技术点

- RHCE
- RHCA
- shell编程
- MySQL
- Web集群
- NoSQL
- Hadoop
- Hbase
- Openstack

## 工作方向

- 嵌入式：（相关知识C、汇编、内核）
- 运维（目标：亿级别站点）
  - 运维工程师：运行维护
  - 系统工程师：系统运维，系统上线
  - 系统架构师：绘制蓝图
- 数据库管理员 DBA：信息系统的核心
  - 关系型数据库：MySQL DBA 一个月2到3万
  - 非关系型数据库NoSQL：HBase MangoDB

## 学习方法论

- 总分总
- 由浅入深，基本知识是高级知识的基础。

### 培训：

- 加速知识获取过程；消除审美疲劳
- 有人监督，有环境；消除惰性

### 博客笔记

5w1h： what; why; when; where; who; how

### 上课环境

172.16.0.0/16

windows: 172.16.250.x

linux: 172.16.249.x

网关: 172.16.0.1

DNS: 172.16.0.1

每位同学: 172.16.Y.1；172.16.Y+100.1

Server: 172.16.0.1; 172.16.0.254; 172.16.1.254 允许核心转发; 

DHCP、ftp、http、cobbler

### ftp 环境

books相关书籍、files笔记、ISOs操作系统镜像、Sources程序包（5.i386, 6.i386, 6.x86_64, deb, opensuse, sources, SRPMS）、Tools(工具程序)

## VMware Workstation的使用

虚拟机：虚拟计算机

稍后安装操作系统，桥接网络，1核，1G，120G

## 计算机基础知识

### 计算机组成部分

现代计算机设备的组成部分：运算器、控制器、存储器、输入设备、输出设备。其中运算器用来计算，但是只能二进制运算，简单算术运算和逻辑运算，比如加减乘除等，而且乘除减法都是转换为加法，运算器核心是加法器。

- CPU 中央处理单元: 运算器 + 控制器
- 存储器RAM（内存，编址）
- OUTPUT输出设备、INPUT输入设备

存储器memory：编址存储设备，每一个字节为一个存储单元cell，2<sup>32</sup>=4G, 32位计算机总线最多寻址4G内存，一共32根线。

各部件之间通过总线BUS实现。总线分为，控制总线、数据总线、地址总线。

地址总线：内存寻址

数据总线：传输数据

控制总结：控制指令

寄存器：CPU暂时存储器

CPU时钟频率，单位时间电平变化次数，4GHz指1秒钟可以完成40多亿位数据传输，电磁传播速度是光的速度30万公里每秒。按时间上分配1和0。晶体管时钟振荡器，4GHz已经是天花板。内存通常1600,1866Mhz，2666Mhz速度慢很多。解决方案：缓存，缓存能够以接近CPU的频率工作，造价高昂，缓存能够加速cpu和内存交互，因为计算机程序运行具有局部性特性，数据遵行空间局部性和时间局部性，空间上很近的数据可以提前加载到内存叫做预读read ahead，时间上也是用过的数据可以先放在缓存中。互联网时代Cache is king 缓存为王。

内存是易失性存储器。IO是为了与外部部件交互的组件。常见IO设备比如磁盘、网卡。IO设备是最慢的，因为很多IO都是机械性的。 IO 通过主板mother board连接。

机械硬盘：盘号越小，数据读取越快，固态硬盘可以忽略速度差异


### CPU架构类型

著名硬件架构：ARM、x86、x64（兼容x86）、IOS（BSD）、安腾（惠普收购的，后来卖给intel了）、alpha（惠普公司）、UltraSparc（sun公司）、Power（IBM，第一个多核CPU，生产工艺较差，功耗差）、 M68K（M68000 摩托罗拉生产的）、PowerPC（简装的Power）

CPU指令组成指令集。

- 特权指令：特权指令位于内部环上，OS运行特权指令
- 普通指令：普通指令位于环3上，应用程序运行，mkdir只能向操作系统发送请求，每一个请求叫系统调用System Call简称为Syscall

C——汇编——特定芯片的机器指令

高级语言——object——汇编指令

## 操作系统基础知识

操作系统OS：Operating System

- 软件程序
- 通用目的，将底层抽象为统一接口，（进程管理/CPU时间片的切割与分配、内存管理、网络管理、驱动管理、安全管理等）

操作系统（windows、linux、unix）的发展。

批处理系统（现代操作系统的前身）

    jobs1$$$$$$$jobs2$$$$$$$$

操作系统主要提供一下的基本服务程序：

1. 文件系统
2. 设备驱动
3. 用户接口（GUI/CLI）
4. 系统服务

常见OS:

- Windows
- Linux
- Unix
- OS/2

编程层次：

- 硬件规格：hardware specification
- 系统调用：System Call
- 库调用：library call，通常是C库和C++库

用户接口 UI user interface, 用户和计算机打交道的接口:

GUI: Graphic User Interface
CLI: Command Line Interface

ABI：Application Binary Interface, 运行接口，支持的运行程序格式不一样，不通过操作系统二进制程序是不同的。
API: Application Programming Interface，程序编程接口



### Unix简介

通用电气GE, 贝尔实验室Bell, 麻省理工大学MIT共同研发Multics系统。MainFrame 大型机

1969年Unix系统由美国Bell实验室肯·汤普森Ken Thompson用汇编语言开发；

1971年丹尼斯·里奇Dennis Ritchie发明C语言，B-->C；

1973年UNIX用C语言重写。

Posix---portable operating system interface computing system 在源代码一级保证在多种操作系统上移植和运行。

不同版本共同遵循POSIX标准。Unix有两大分支，主要分为AT&A (贝尔实验室) 开发的版本System V 和 BSRG (Berkeley Sytem Research Group伯克利操作系统研究小组)开发的加州大学伯克利分校版本BSD（Berkeley System Distribution）。

BSD（Berkeley System Distribution）主要包括NetBSD、OpenBSD、FreeBSD(能够在PC上运行的真正的贵族UNIX)

### UNIX主要发行版本

版本|公司|芯片
-|:-:|-
AIX|IBM(深蓝)|PowerPC
HP-UX|HP|PA-RISC
Solaris|Sun|SPARC
Iric|SGI|MIPS
Digital UNIX|DEC|Alpha
Linux、BSD|Red Hat Linux、Ubuntu、FreeBSD|IA(Intel、AMD)

### GNU工程

GNU: GNU is Not Unix。GNU的章程是GPL。

1984年由Richard Stallman（MIT人工智能实验室）组织成立。

[工程网站](http://www.gnu.org) [国内镜像站点1](http://gnu.sea9.com) [国内镜像站点2](http://gnu.linuxforum.net)

自由软件基金会(FSF)提供资金支持。

GPL(General Public License) 通用公共许可证

- 允许软件被自由拷贝
- 允许软件被自由修改
- 允许软件被修改后自由传播，但必须提供源代码

LGPL （GNU Lesser General Public License）

GPLv2

GPLv3

BSD （original BSD license、FreeBSD license、Original BSD license）

Apache （Apache License, Version 2.0、Apache License, Version 1.1、Apache License, Version 1.0）

MIT

作者只想保留版权,而无任何其他了限制.也就是说,你必须在你的发行版里包含原许可协议的声明,无论你是以二进制发布的还是以源代码发布的.

共享软件：商业软件衍生版本，一般有限制，比如时间，广告等。

自由软件介绍：Apache，BIND samba(Windows和Linux之间通信) php MySQL

开源 open source：开放源代码

    Emacs: 文本编辑器

    gcc: GNU C Complier

    ABI：Application Binary Interface 应用二进制接口

## Linux内核

1991年由芬兰大学Linus Torvalds牵头开发。

[内核工程网站链接](http://www.kernel.org)

内核版本号=主版本号.次版本号.修正次数

次版本号为偶数是稳定版，奇数为开发版本。

### 内核功能

- 进程管理
- 内存管理
- 文件系统
- 网络功能
- 硬件驱动
- 安全机制

kernel: 2w

### 主要发行版本

发行商： release

主要区别是软件包管理

redhat系列：fedora cnetos gentoo 

debian系列：ubuntu

部分说明：

- RedHat，rpm
- SLS
- Debian ：技术最先进，也最难用，在高级用户中流行，限制甚少, dpt （debian package tool）
- SUSE （SLS是其前身） --> Novell (Netware), OpenSUSE
- Ubuntu （Debian二次发行版）
- Mint（Ubuntu的二次发行版）
- CentOS 社区版红帽: Community ENTerprise OS
- Fedora 红帽个人版: 新特性，企业测试
- Mandriva 界面漂亮
- LFS(Linux From Scratch)

### Linux优良特性

1. 分时的多用户、多任务的操作系统
2. 多数网络协议支持，方便的远程管理
3. 强大的内存管理和文件管理系统（可以避免产生文件碎片）
4. 大量的可用软件和免费软件
5. 优良的稳定性和安全性
6. 良好的可以移植性和灵活性
7. 可供选择的厂商多

### Linux的基本原则

1. 由目的单一的小程序组成；组合小程序完成复杂任务；
2. 一切皆文件；
3. 尽量避免捕获用户接口；
4. 配置文件保存为纯文本格式；

## GNU/Linux

- GNN为首的组织提供自由的应用软件
- Linus维护最新内核的开发
- [XFree86](http://xfree86.org)组织提供开放的Xwindow图形应用系统
- Gnome和KDE组织提供图形桌面

## X Window

- 独立于操作系统
- 网络特性
- 源代码免费

### Unix图形环境

CDE（Common Desktop Environment通用桌面环境）

- Gnome
- KDE
- Xfce

## Linux应用领域

- 网络应用
  - 基于LAMP的网站论坛及B/S架构应用，参考网站<http://news.netcraft.com>
  - 基于Linux的负载均衡和集群
  - 防火墙和代理服务器
  - 网游服务器

- 嵌入式应用
  - 生物特征识别系统（指纹识别只有8-16个识别点，眼角膜800-1600，眼角膜3200以上识别点）
  - 智能卡系统（可以做到十几K）
  - 掌上电脑、手机、智能家电
  - 路由器、机顶盒、数码相机
- 电子政务
- 科学计算<http://www.top500.org>

## Linux技术认证

### 红帽体系

RHCSA-->RHCE-->RHCA 阶梯考试

RHCSA+RHCE 培训费4200，补考RHCSA:1500元，补考RHCE：2500元。

#### RHCSA 红帽认证管理员

红帽认证管理员(RHCSA,全称为Red Hat Certified System Administrator)属于红帽Linux的初级入门认证，比较适合Linux兴趣爱好者，考核系统管理能力。

- 能够管理文件、目录、文档以及命令行环境。

- 能够使用分区、LVM逻辑卷来管理本地存储。

- 能够安装、更新、维护、配置系统与核心服务。

- 能够熟练创建、修改、删除用户与用户组，并要会使用LDAP进行集中目录身份认证。

- 能够熟练配置防火墙以及SELinux来保障系统安全。

包括的课程

- RH033 基础
- RH133 操作系统管理

#### RHCE 红帽认证工程师

红帽认证工程师(RHCE,全称为Red Hat Certified Engineer)属于红帽Linux的中级水平认证，考生必需已获得RHCSA认证，难度相对RHCSA更大，适合有基础的Linux运维管理员，主要考察对下列服务的管理与配置能力：

- 能够熟练配置防火墙规则链与SElinux安全上下文

- 能够配置静态路由、数据包筛选以及网络地址转换。

- 能够配置iSCSI互联网小型计算机系统接口服务。

- 能够编写Shell脚本来批量创建用户、自动完成系统的维护任务。

- 能够配置Http/https网络服务。

- 能够配置Ftp文件传输服务

- 能够配置NFS网络文件系统服务。

- 能够配置SMB服务器信息服务。

- 能够配置SMTP简单邮件传输服务。

- 能够配置Ssh远程管理服务。

- 能够配置NTP网络时间服务。

涉及课程

- RH253 服务

#### RHCA 红帽架构师

红帽认证架构师(RHCA,全称为Red Hat Certified Architect)属于红帽Linux的最高级别认证，公认的Linux操作系统顶级认证，目前中国大陆仅通过不到300人（2015年最新数据），考试费约在1.8-2.1万左右，需要考察学生对红帽卫星服务、红帽系统集群、红帽虚拟化、系统性能调优以及红帽云系统的安装搭建与维护能力。

  考试代码  认证名称

- EX210 红帽 OpenStack 认证系统管理员考试
- EX220 红帽混合云管理专业技能证书考试
- EX236 红帽混合云存储专业技能证书考试
- EX248 红帽认证 JBoss 管理员考试
- EX280 红帽平台即服务专业技能证书考试
- EX318 红帽认证虚拟化管理员考试
- EX401 红帽部署和系统管理专业技能证书考试
- EX413 红帽服务器固化专业技能证书考试
- EX436 红帽集群和存储管理专业技能证书考试
- EX442 红帽性能调优专业技能证书考试

- RH401 红帽卫星网络，意义不大
- RH442 (系统调优，被称为black art，主要是硬件运行的基本原理，操作系统的基本原理)
- RH436  讲集群服务：负载均衡集群，高可用集群，高性能集群）电商：异步消息队列，中间件类应用程序服务器...

推荐考核

- RHS333 系统安全
- RH423 (LDAP协议，红帽自己产品为主，用的较小)
- EX210 红帽 OpenStack 认证系统管理员考试
- EX318 红帽认证虚拟化管理员考试
- EX413 红帽服务器固化专业技能证书考试

### 其他技术认证

- Linux Professional Institute
- 全国信息技术人才培养工程，职业资格认证培训证书

## 远程管理登录工具

命令行远程管理工具：Putty、SecureCRT

文件共享工具：SSH Secure Shell Client、filezila
