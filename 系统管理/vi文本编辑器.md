# vi编辑器的文字说明

模式：命令模式，编辑模式，末行模式。

切换方式：命令模式→i→编辑模式，编辑模式→Esc→命令模式，命令模式→：→末行模式。

功能：

    命令模式(Command Mode)：  控制光标移动，删除字符，段落复制。
    编辑模式(Insert Mode)：   新增文字及修改文字。
    末行模式(Last Line Mode)：保存文件，离开vi，以及其他设置。

vi -o file1 file2 同时打开2个文件，横排

vi -O file1 file2 同时打开2个文件，竖排

ctrl+ww 切换窗口

## 配置文件

 ~/.vimrc 

- 显示行号 set nu
- 关闭语法 syn off
- 创建快捷键 map ^P i#\<ESC>
- 注释是双引号"


## 命令模式命令

命令  |  说明
-|:-:
 h    |  将光标向左移动一格
 l    |  将光标向右移动一格
 j    |  将光标向下移动一格
 k    |  将光标向上移动一格
 0    |  数字0，将光标移动到该行的行首
 $    |  将光标移动到该行的行末
 H    |  将光标移动到该屏幕的顶端
 M    |  将光标移动到该屏幕的中间
 L    |  将光标移动到该屏幕的底端
 gg   |  将光标移动到文章的首行
 G    |  将光标移动到文章的尾行
 nG   |  将光标移动到第n行
w或W  |  将光标移动到下一单词
 x    |  删除光标所在处的字符
 X    |  删除光标前的字符
 dd   |  删除光标所在行
ndd   |  从光标所在行向下删除n行，为数字
dG    |  删除光标所在行到末尾
 D    |  删除光标所在处到行尾
 r    |  取代光标处的一个字符
 R    |  从光标处向后替换，按Esc结束
 u    |  取消上步的操作
 U    |  取消目前的所有操作
 yy，Y   |  复制光标所在行
 nyy，nY |  复制光标所在行以下n行
 p    |  将复制或者删除的内容放在光标所在行的下行
 s|替换光标所在处字符，并进入文本输入方式
 S|替换光标所在全行，按ESC结束
 u|取消上一步操作，取消到上次打开文件的点，ctrl+r重做
 U|取消当前行的所有操作
 ZZ| 保存并退出文件  
 /string，?string    |   搜索string, n,N搜索方向不同

## 编辑模式命令

命令   |    说明
-|:-:
 a    |       在光标后插入文本
 A    |       在光标所在行后插入文本
 i    |       在光标前插入文本
 I    |       在光标所在行前插入文本
 o    |       在光标所在行下插入新行(小写字母o)
 O    |       在光标所在行上插入新行(大写字母O)


## 末行命令

命令      | 说明
-|:-:
 :e        |   创建新文件
 :n        |   加载新文件
 :w        |   保存文件
 :w new_filename | 另存为
 :!command        |   执行命令
 :w!       |   强行保存文件
 :q  |   退出
 :q!       |   强行退出
 :wq, :x   |   保存退出
 :wq new_filename | 另存为并退出
 :wq!      |   强行保存退出
 :set nu   |   显示行号
 :set nonu |   不显示行号
 :nu       |   跳转到第nu行
 :n1,n2d   |   删除n1到n2行 
 :%s/old/new/g | 替换
 :r filename | 导入文件