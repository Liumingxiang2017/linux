# 压缩、解压缩及归档工具
<!-- TOC -->

1. [压缩、解压缩及归档工具](#压缩解压缩及归档工具)
    1. [gzip/gunzip/zcat](#gzipgunzipzcat)
        1. [gzip](#gzip)
        2. [gunzip](#gunzip)
        3. [zcat](#zcat)
    2. [bzip2/bunzip2/bzcat](#bzip2bunzip2bzcat)
    3. [xz/unxz/xzcat](#xzunxzxzcat)
    4. [zip/unzip](#zipunzip)
    5. [tar 打包并压缩](#tar-打包并压缩)
    6. [cpio: 归档工具](#cpio-归档工具)

<!-- /TOC -->
压缩格式：gz, bz2, xz, zip, Z

压缩算法：算法不同，压缩比也会不同；

- compress/uncompress：.Z 早期工具,现在很少见了
- gzip/gunzip：.gz 主流
- bzip2/bunzip2: .bz2
- xz/unxz：.xz 目前推荐使用工具
- zip/unzip 通用，兼容性好，古老
- tar
- cpio

## gzip/gunzip/zcat

只能压缩单个文件,结果为.gz

压缩算法LZ77，压缩比不高

### gzip

gzip [OPTIONS]... FILE...
- -d：解压缩,相当于gunzip
- -c: 将结果输出至标准输出，将不操作源文件
    - gzip -c messages > messages.gz ，从而保留源文件
    - gzip -d -c messages.gz > messages ，从而保留源文件
- -#：1-9，指定压缩比，默认是6；数字越大压缩比越高，速度越慢，--fast --best 
- -r: 递归
- gzip /PATH/TO/SOMEFILE：压缩完成后会删除原文件
- gzip FILE 得到 FILE.gz ,默认只保留压缩后的文件，删除源文件。

### gunzip

- -1 快速压缩 -9 最佳压缩
- -l 查看详细信息
- 解压缩为 gunzip 或者 gzip -d
- gunzip /PATH/TO/SOMEFILE.gz: 解压完成后会删除原文件
- gunzip FILE.gz 得到 FILE ,默认只保留解压后的文件，删除源文件。

### zcat
zcat /PATH/TO/SOMEFILE.gz： 不显式解压的前提下，查看文本文件的内容

## bzip2/bunzip2/bzcat

bzip2: .bz2 ，比gzip有着更大压缩比的压缩工具，使用格式近似

bzip2 /PATH/TO/SOMEFILE
- -d: --decompress 解压缩
- -#: 1-9压缩比, 默认是6
- -k: --keep 压缩时保留原文件
		
bunzip2 /PATH/TO/SOMEFILE.bz2

bzcat 不显式解压的前提下，查看文本文件的内容

## xz/unxz/xzcat

xz /PATH/TO/SOMEFILE
- -d：展开
- -#: 1-9, 默认是6
- -k: 压缩时保留原文件

unxz: xz --decompress

xzcat: xz --decompress --stdout

xzdec

lzma: xz --format=lzma 采用lzma压缩算法，.lzma格式，已经很少用了

unlzma: xz --format=lzma --decompress

lzcat: xz --format=lzma --decompress --stdout


## zip/unzip

zip: 既归档又压缩的工具
	zip FILENAME.zip FILE1 FILE2 ...: 压缩后不删除原文件
	unzip FILENAME.zip

- -r 压缩目录
- 解压缩为unzip

## tar 打包并压缩

archive: 归档，归档本身并不意味着压缩

tar: 归档工具, .tar

- c: 创建归档文件 Create
- z: 指定类型为 gzip
- j: 指定类型为 bzip2
- v: 显示压缩过程 Verbose
- f FILE.tar: 指定打包压缩后的文件名
- tvf 以列表显示里面的内容
- zcvf 格式：tar zxvf directory.tar.gz directory打包并压缩为.tar.gz
- zxvf 解压缩

- -x: 展开归档
- --xattrs: 归档时，保留文件的扩展属性信息
- -t: 不展开归档，直接查看归档了哪些文件

- -zcf: 归档并调用gzip压缩
- -zxf: 调用gzip解压缩并展开归档，-z选项可省略

- -jcf: bzip2
- -jxf:

- -Jcf: xz
- -Jxf:

红帽在rhel7中tar可以检测压缩包类型，不需要指定z,j


## cpio: 归档工具


练习：写一个脚本
从键盘让用户输入几个文件，脚本能够将此几个文件归档压缩成一个文件；
read:
	-p “PROMPT": 给出提示

