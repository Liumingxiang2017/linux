# shell 输入输出
<!-- TOC -->

1. [shell 输入输出](#shell-输入输出)
    1. [echo [option] string](#echo-option-string)
    2. [用户交互](#用户交互)
        1. [read](#read)
    3. [cat](#cat)
    4. [tee](#tee)
    5. [标准输入、输出、错误](#标准输入输出错误)
    6. [重定向](#重定向)
    7. [exec](#exec)

<!-- /TOC -->
## echo [option] string

- -e 解析转义字符
- -n 回车不换行，linux默认回车换行

```sh
echo -n "Enter a user name:"; read name
# ;表示两个命令，表示顺序执行
```


## 用户交互

### read
bash内建命令，help read

> 从键盘或者文件的某一行文本中读入信息，并将其赋给一个变量

read [OPTIONS]...  [name ...]

- read variable1 variable ... 按顺序赋值
- -p 'prompt'：prompt 增加提示符，read -p "Enter a user name:" name
- -t timeout: timeout, 命令等待超时,超时为空值 read -p "Enter a user name:" -t 5 name
- [ -Z "$NAME" ] && name='Washington' 如果NAME为空值，设置默认值

```sh
read name
# 输入name的值
echo $name
```

## cat 

- -v 显示控制字符
- cat [option] file1 file2 ...
    - 同时输入file1 file2

## tee

- 输出到标准输出，并拷贝到文件
- tee -a files
    - -a, --append (append to the given files, do not overwrite)

## 标准输入、输出、错误

文件 |文件描述符
-|:-:
标准输入 STDIN | 0（缺省是键盘）
标准输出 STDOUT | 1（缺省是屏幕）
标准错误 STDERR | 2（缺省是屏幕）

## 重定向

- cat file1 file2 1>file.out 2>file.err
  - 如果有标准输出输出到file.out,如果有标准错误输出到file.err
- command > file 2>&1 
  - 把标准输出和标准错误一起重定向到file
- command < file1 > file2
  - command命令以file1作为标准输入，file2作为标准输出
- command << delimiter
  - 从标准输入中读入，直到遇到delimiter分界符，常用分隔符为EOF（EndOfFile）
- command<&m 
  - 把文件描述符m作为标准输入
- command>&m
  - 把标准输出重定向到文件描述符m
- command <&-
  - 关闭标准输入

## exec
- 用来替代当前shell，使用时任何环境变量将被清除
- exec command
    - command 通常是一个脚本
    - 只有在对文件描述符操作时，才不会覆盖当前shell